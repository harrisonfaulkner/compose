[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = "0s"
  hostname = ""
  omit_hostname = false

[[outputs.influxdb_v2]]
  urls = ["http://192.168.1.25:8086"]
  token = "4cSwrgADJaOwqlyjuwHH5eO3ARWyU4Vnm3oTz0I-XQEjqar91ORd8xqZA8w-cVmJfrbmHCzvcC5tfXBq08O5dg=="
  organization = "113cypress"
  bucket = "monitoring"

[[inputs.cpu]]
  percpu = true
  totalcpu = true
  collect_cpu_time = false
  report_active = false

[[inputs.disk]]
  ignore_fs = ["tmpfs", "devtmpfs", "devfs", "iso9660", "overlay", "aufs", "squashfs"]

[[inputs.diskio]]

[[inputs.mem]]

[[inputs.net]]

[[inputs.system]]

[[inputs.docker]]
  endpoint = "unix:///var/run/docker.sock"

## ============================================================================
## BROCADE ICX SWITCH MONITORING TEMPLATE
## ============================================================================
## Instructions:
## 1. Copy this entire block for each switch you want to monitor
## 2. Update the three marked sections: IP address, switch_name, and location
## 3. Adjust the community string if different from "public"
## ============================================================================

[[inputs.snmp]]
  ## ========================================
  ## CUSTOMIZE THESE THREE LINES PER SWITCH:
  ## ========================================
  agents = ["udp://192.168.1.30:161"]  # ← Change IP address

  [inputs.snmp.tags]
    switch_name = "ICX7150"      # ← Change switch name
    location = "datacenter"             # ← Change location
  ## ========================================

  ## Connection settings (usually same for all switches)
  version = 2
  community = "public"                  # Change if using different community
  interval = "60s"
  timeout = "10s"
  retries = 3
  name = "brocade_switch"

  ## ========================================
  ## SYSTEM INFORMATION
  ## ========================================
  [[inputs.snmp.field]]
    oid = "SNMPv2-MIB::sysDescr.0"
    name = "sys_description"

  [[inputs.snmp.field]]
    oid = "SNMPv2-MIB::sysName.0"
    name = "hostname"
    is_tag = true

  [[inputs.snmp.field]]
    oid = "SNMPv2-MIB::sysUpTime.0"
    name = "uptime"

  [[inputs.snmp.field]]
    oid = "SNMPv2-MIB::sysContact.0"
    name = "sys_contact"

  [[inputs.snmp.field]]
    oid = "SNMPv2-MIB::sysLocation.0"
    name = "sys_location"

  ## ========================================
  ## CPU UTILIZATION
  ## ========================================
  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.11.1.1.5.1"
    name = "cpu_util_5sec"

  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.11.1.1.6.1"
    name = "cpu_util_1min"

  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.11.1.1.7.1"
    name = "cpu_util_5min"

  ## ========================================
  ## MEMORY UTILIZATION
  ## ========================================
  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.11.1.1.8.1"
    name = "memory_util_percent"

  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.1.53.0"
    name = "memory_total_kb"

  [[inputs.snmp.field]]
    oid = "1.3.6.1.4.1.1991.1.1.2.1.54.0"
    name = "memory_free_kb"

  ## ========================================
  ## TEMPERATURE SENSORS
  ## ========================================
  [[inputs.snmp.table]]
    oid = "1.3.6.1.4.1.1991.1.1.1.1.18"
    name = "temperature"

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.1.18.1.1"
      name = "sensor_id"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.1.18.1.2"
      name = "temp_description"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.1.18.1.3"
      name = "temp_celsius"

  ## ========================================
  ## FAN STATUS
  ## ========================================
  [[inputs.snmp.table]]
    oid = "1.3.6.1.4.1.1991.1.1.1.3.1"
    name = "fan"

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.3.1.1.1"
      name = "fan_id"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.3.1.1.2"
      name = "fan_description"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.3.1.1.3"
      name = "fan_status"
      # Status values: 1=other, 2=normal, 3=failure

  ## ========================================
  ## POWER SUPPLY STATUS
  ## ========================================
  [[inputs.snmp.table]]
    oid = "1.3.6.1.4.1.1991.1.1.1.2.1"
    name = "power_supply"

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.2.1.1.1"
      name = "psu_id"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.2.1.1.2"
      name = "psu_description"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "1.3.6.1.4.1.1991.1.1.1.2.1.1.3"
      name = "psu_status"
      # Status values: 1=other, 2=normal, 3=failure

  ## ========================================
  ## INTERFACE STATISTICS
  ## ========================================
  [[inputs.snmp.table]]
    oid = "IF-MIB::ifTable"
    name = "interface"
    inherit_tags = ["hostname"]

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifDescr"
      name = "ifDescr"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifAlias"
      name = "ifAlias"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifOperStatus"
      name = "ifOperStatus"
      # Status: 1=up, 2=down, 3=testing, 4=unknown, 5=dormant, 6=notPresent, 7=lowerLayerDown

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifAdminStatus"
      name = "ifAdminStatus"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifSpeed"
      name = "ifSpeed"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifInOctets"
      name = "ifInOctets"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifOutOctets"
      name = "ifOutOctets"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifInErrors"
      name = "ifInErrors"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifOutErrors"
      name = "ifOutErrors"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifInDiscards"
      name = "ifInDiscards"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifOutDiscards"
      name = "ifOutDiscards"

  ## ========================================
  ## HIGH-CAPACITY INTERFACE COUNTERS (64-bit)
  ## ========================================
  [[inputs.snmp.table]]
    oid = "IF-MIB::ifXTable"
    name = "interface_hc"
    inherit_tags = ["hostname"]

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifName"
      name = "ifName"
      is_tag = true

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifHCInOctets"
      name = "ifHCInOctets"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifHCOutOctets"
      name = "ifHCOutOctets"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifHCInUcastPkts"
      name = "ifHCInUcastPkts"

    [[inputs.snmp.table.field]]
      oid = "IF-MIB::ifHCOutUcastPkts"
      name = "ifHCOutUcastPkts"

## ============================================================================
## END OF TEMPLATE - COPY ENTIRE BLOCK ABOVE FOR EACH ADDITIONAL SWITCH
## ============================================================================
